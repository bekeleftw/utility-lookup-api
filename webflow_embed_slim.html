<!--
  Utility Lookup Widget - Slim Version (loads JS externally)
  For: /utility-lookup-tool page
-->
<style>.up-container{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;max-width:680px;margin:0 auto;padding:32px 24px;background:#fafafa;border-radius:16px;}.up-header{text-align:center;margin-bottom:24px;}.up-logo{display:flex;align-items:center;justify-content:center;margin-bottom:8px;}.up-logo img{height:40px;width:auto;}.up-title{font-size:20px;font-weight:600;color:#1a1a1a;margin:0 0 4px 0;}.up-subtitle{font-size:14px;color:#6b7280;margin:0;}.up-form{display:flex;flex-direction:column;gap:16px;margin-bottom:24px;}.up-input{width:100%;padding:14px 18px;font-size:16px;border:2px solid #e5e7eb;border-radius:12px;outline:none;transition:all 0.2s;box-sizing:border-box;background:white;}.up-input:focus{border-color:#7AC143;box-shadow:0 0 0 3px rgba(122,193,67,0.1);}.up-utility-toggles{display:flex;flex-wrap:wrap;gap:8px;}.up-toggle{display:flex;align-items:center;gap:6px;padding:8px 14px;background:white;border:2px solid #e5e7eb;border-radius:10px;cursor:pointer;transition:all 0.2s;user-select:none;}.up-toggle:hover{border-color:#d1d5db;}.up-toggle.active{border-color:#7AC143;background:#f0f9e8;}.up-toggle-icon{font-size:16px;}.up-toggle-label{font-size:14px;font-weight:500;color:#374151;}.up-toggle-check{width:18px;height:18px;border:2px solid #d1d5db;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:all 0.2s;font-size:12px;color:white;}.up-toggle.active .up-toggle-check{background:#7AC143;border-color:#7AC143;}.up-toggle input{display:none;}.up-btn{width:100%;padding:14px 24px;font-size:16px;font-weight:600;color:white;background:linear-gradient(135deg,#7AC143 0%,#5a9a30 100%);border:none;border-radius:12px;cursor:pointer;transition:all 0.2s;}.up-btn:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(122,193,67,0.3);}.up-btn:disabled{background:#9ca3af;transform:none;box-shadow:none;cursor:not-allowed;}.up-error{background:#fef2f2;border:1px solid #fecaca;border-radius:10px;padding:16px;color:#991b1b;}.up-location{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#f0f9e8;border-radius:10px;margin-bottom:16px;font-size:14px;color:#374151;}.up-location-icon{font-size:18px;}.up-results{display:flex;flex-direction:column;gap:16px;}.up-card{background:white;border-radius:14px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,0.06);border:1px solid #e5e7eb;position:relative;}.up-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}.up-card-type{display:flex;align-items:center;gap:10px;}.up-icon{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;}.up-icon-electric{background:#fef3c7;}.up-icon-gas{background:#fee2e2;}.up-icon-water{background:#dbeafe;}.up-icon-internet{background:#e0e7ff;}.up-type-label{font-size:13px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:0.5px;}.up-header-badges{display:flex;gap:6px;position:relative;}.up-badge{font-size:11px;font-weight:600;padding:4px 10px;border-radius:6px;cursor:pointer;transition:filter 0.15s;}.up-badge:hover{filter:brightness(0.95);}.up-badge-verified{background:#dcfce7;color:#166534;}.up-badge-high{background:#dbeafe;color:#1e40af;}.up-badge-medium{background:#fef3c7;color:#92400e;}.up-badge-low{background:#fee2e2;color:#991b1b;}.up-badge-district{background:#ede9fe;color:#5b21b6;cursor:default;}.up-badge-caret{font-size:10px;margin-left:2px;transition:transform 0.15s;}.up-badge.open .up-badge-caret{transform:rotate(180deg);}.up-confidence-dropdown{display:none;position:absolute;top:100%;right:0;margin-top:6px;background:white;border:1px solid #e5e7eb;border-radius:8px;padding:10px 14px;box-shadow:0 4px 12px rgba(0,0,0,0.1);z-index:10;min-width:200px;font-size:13px;color:#374151;}.up-confidence-dropdown.open{display:block;}.up-confidence-dropdown .score{font-weight:700;color:#111827;}.up-provider-section{margin-bottom:12px;}.up-provider-name{font-size:18px;font-weight:700;color:#111827;margin-bottom:0;}.up-selection-reason{font-size:13px;color:#6b7280;font-style:italic;margin-top:4px;}.up-details{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;padding-top:12px;border-top:1px solid #f3f4f6;flex-wrap:wrap;}.up-details-left{display:flex;gap:24px;}.up-detail{display:flex;flex-direction:column;gap:2px;}.up-detail-label{font-size:11px;text-transform:uppercase;letter-spacing:0.5px;color:#9ca3af;}.up-detail-value{font-size:14px;color:#374151;}.up-detail-value a{color:#7AC143;text-decoration:none;}.up-detail-value a:hover{text-decoration:underline;}.up-feedback-inline{display:flex;align-items:center;gap:6px;font-size:12px;color:#9ca3af;}.up-feedback-btn-small{padding:4px 8px;font-size:11px;font-weight:500;border-radius:4px;cursor:pointer;transition:all 0.15s;border:1px solid #e5e7eb;background:white;color:#6b7280;}.up-feedback-btn-small:hover{border-color:#d1d5db;color:#374151;}.up-feedback-btn-small.yes:hover{background:#f0f9e8;border-color:#7AC143;color:#4a7c28;}.up-feedback-btn-small.no:hover{background:#fef2f2;border-color:#ef4444;color:#991b1b;}.up-feedback-btn-small.selected{pointer-events:none;}.up-feedback-btn-small.yes.selected{background:#7AC143;border-color:#7AC143;color:white;}.up-feedback-btn-small.no.selected{background:#ef4444;border-color:#ef4444;color:white;}.up-feedback-done{display:none;font-size:11px;color:#5a9a30;}.up-feedback-done.show{display:inline;}.up-feedback-form{display:none;margin-top:12px;padding:12px;background:#fef2f2;border-radius:8px;}.up-feedback-form.open{display:block;}.up-feedback-form label{display:block;font-size:13px;font-weight:500;color:#374151;margin-bottom:6px;}.up-feedback-form input{width:100%;padding:10px 12px;font-size:14px;border:1px solid #e5e7eb;border-radius:6px;margin-bottom:10px;box-sizing:border-box;}.up-feedback-form input:focus{outline:none;border-color:#7AC143;}.up-feedback-submit{padding:8px 16px;font-size:13px;font-weight:600;background:#7AC143;color:white;border:none;border-radius:6px;cursor:pointer;}.up-feedback-submit:hover{background:#5a9a30;}.up-dereg-banner{background:linear-gradient(135deg,#ecfdf5 0%,#d1fae5 100%);border:2px solid #10b981;border-radius:12px;padding:16px;margin:12px 0;}.up-dereg-header{display:flex;align-items:center;gap:8px;margin-bottom:8px;}.up-dereg-icon{font-size:20px;}.up-dereg-title{font-size:16px;font-weight:700;color:#065f46;}.up-dereg-explain{font-size:13px;color:#047857;line-height:1.5;margin:0 0 12px 0;}.up-dereg-cta{display:inline-flex;align-items:center;gap:6px;background:#10b981;color:white;padding:10px 16px;border-radius:8px;font-size:14px;font-weight:600;text-decoration:none;transition:all 0.2s;}.up-dereg-cta:hover{background:#059669;}.up-internet-stats{display:flex;gap:16px;margin-bottom:12px;}.up-stat{display:flex;flex-direction:column;}.up-stat-value{font-size:24px;font-weight:700;color:#111827;}.up-stat-label{font-size:12px;color:#6b7280;}.up-internet-list{display:flex;flex-direction:column;gap:8px;margin-top:16px;padding-top:16px;border-top:1px solid #f3f4f6;}.up-internet-row{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#f9fafb;border-radius:8px;border:1px solid #e5e7eb;}.up-internet-row-best{background:#ecfdf5;border-color:#a7f3d0;}.up-internet-provider{display:flex;flex-direction:column;gap:2px;}.up-internet-name{font-size:14px;font-weight:600;color:#111827;}.up-internet-tech{font-size:12px;color:#6b7280;}.up-internet-speed{text-align:right;}.up-internet-down{font-size:16px;font-weight:700;color:#111827;}.up-internet-speed-label{font-size:12px;color:#6b7280;}.up-status-message{display:flex;align-items:center;gap:12px;padding:16px;background:#f0f9e8;border-radius:10px;margin-bottom:16px;}.up-loading-spinner{width:20px;height:20px;border:3px solid #e5e7eb;border-top-color:#7AC143;border-radius:50%;animation:spin 0.8s linear infinite;}.up-loading-spinner-small{width:14px;height:14px;border:2px solid #e5e7eb;border-top-color:#7AC143;border-radius:50%;animation:spin 0.8s linear infinite;display:inline-block;margin-right:8px;}@keyframes spin{to{transform:rotate(360deg);}}.up-result-slot{padding:12px;color:#6b7280;font-size:14px;}.up-loading-slot{background:#f9fafb;border-radius:8px;}.up-no-result{color:#6b7280;font-size:14px;}.up-footer{text-align:center;margin-top:24px;padding-top:16px;border-top:1px solid #e5e7eb;}.up-footer a{font-size:13px;color:#7AC143;text-decoration:none;font-weight:500;}.up-csv-toggle{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;color:#6b7280;font-size:14px;cursor:pointer;transition:all 0.2s;border-radius:8px;margin-top:16px;}.up-csv-toggle:hover{background:#f3f4f6;color:#374151;}.up-csv-toggle-icon{font-size:16px;}.up-csv-toggle-text{font-weight:500;}.up-csv-toggle-caret{font-size:10px;transition:transform 0.2s;}.up-csv-toggle.open .up-csv-toggle-caret{transform:rotate(180deg);}.up-csv-hidden{display:none;margin-top:12px;}.up-csv-hidden.open{display:block;}.up-csv-section{background:white;border:2px dashed #e5e7eb;border-radius:12px;padding:24px;text-align:center;transition:all 0.2s;cursor:pointer;}.up-csv-section:hover{border-color:#7AC143;background:#f0f9e8;}.up-csv-section.dragover{border-color:#7AC143;background:#e0f2d0;}.up-csv-subtitle{font-size:13px;color:#9ca3af;margin-bottom:12px;}.up-csv-input{display:none;}.up-csv-btn{display:inline-flex;align-items:center;gap:6px;padding:10px 20px;font-size:14px;font-weight:600;color:#7AC143;background:white;border:2px solid #7AC143;border-radius:8px;cursor:pointer;transition:all 0.2s;}.up-csv-btn:hover{background:#7AC143;color:white;}.up-csv-info{font-size:12px;color:#9ca3af;margin-top:12px;}.up-csv-progress{display:none;margin-top:16px;}.up-csv-progress.show{display:block;}.up-progress-bar{height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden;margin-bottom:8px;}.up-progress-fill{height:100%;background:linear-gradient(135deg,#7AC143 0%,#5a9a30 100%);border-radius:4px;transition:width 0.3s;width:0%;}.up-progress-text{font-size:13px;color:#6b7280;}.up-csv-results{display:none;margin-top:16px;text-align:left;}.up-csv-results.show{display:block;}.up-csv-stats{display:flex;gap:16px;margin-bottom:12px;}.up-csv-stat{flex:1;background:#f9fafb;border-radius:8px;padding:12px;text-align:center;}.up-csv-stat-value{font-size:24px;font-weight:700;color:#111827;}.up-csv-stat-label{font-size:12px;color:#6b7280;}.up-csv-stat.success .up-csv-stat-value{color:#5a9a30;}.up-csv-stat.error .up-csv-stat-value{color:#dc2626;}.up-csv-download{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;font-size:14px;font-weight:600;color:white;background:linear-gradient(135deg,#7AC143 0%,#5a9a30 100%);border:none;border-radius:8px;cursor:pointer;}@media (max-width:480px){.up-container{padding:20px 16px;}.up-details{flex-direction:column;align-items:flex-start;}.up-details-left{width:100%;}.up-feedback-inline{margin-top:8px;}}.up-other-providers{margin-top:12px;padding-top:12px;border-top:1px dashed #e5e7eb;}.up-other-label{font-size:12px;font-weight:600;color:#9ca3af;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px;}.up-other-list{display:flex;flex-wrap:wrap;gap:8px;}.up-other-chip{display:inline-flex;align-items:center;gap:6px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px;padding:8px 12px;font-size:13px;color:#4b5563;}.up-verify-link{color:#7AC143;font-weight:500;}.up-url-form{display:none;margin-top:12px;padding:12px;background:#f0f9e8;border-radius:8px;}.up-url-form.open{display:block;}.up-url-form label{display:block;font-size:13px;color:#374151;margin-bottom:6px;}.up-url-form input{width:100%;padding:10px 12px;font-size:14px;border:1px solid #d1d5db;border-radius:6px;margin-bottom:8px;box-sizing:border-box;}.up-url-buttons{display:flex;gap:8px;}.up-url-submit,.up-url-skip{flex:1;padding:8px 12px;font-size:13px;font-weight:500;border:none;border-radius:6px;cursor:pointer;}.up-url-submit{background:#7AC143;color:white;}.up-url-submit:hover{background:#6ab038;}.up-url-skip{background:#e5e7eb;color:#374151;}.up-url-skip:hover{background:#d1d5db;}.up-other-toggle{cursor:pointer;display:flex;align-items:center;justify-content:space-between;}.up-other-caret{font-size:10px;margin-left:6px;}.up-other-collapsed{display:none;}.up-alt-card{background:#f9fafb;border:1px solid #e5e7eb;border-radius:8px;padding:12px;margin-bottom:10px;}.up-alt-card:last-child{margin-bottom:0;}.up-alt-header{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:8px;}.up-alt-name{font-size:14px;font-weight:600;color:#1a1a1a;display:flex;align-items:center;gap:6px;}.up-alt-icon{font-size:12px;}.up-alt-feedback{display:flex;align-items:center;gap:6px;font-size:12px;color:#6b7280;}.up-alt-btn{padding:4px 12px;font-size:12px;border:1px solid #e5e7eb;border-radius:4px;cursor:pointer;background:white;}.up-alt-btn.yes{border-color:#7AC143;color:#5a9a30;}.up-alt-btn.yes:hover{background:#f0f9e8;}.up-alt-btn.no{border-color:#ef4444;color:#dc2626;}.up-alt-btn.no:hover{background:#fef2f2;}.up-alt-done{display:none;color:#7AC143;font-size:12px;}.up-alt-done.show{display:inline;}.up-alt-details{display:flex;gap:16px;margin-top:8px;padding-top:8px;border-top:1px solid #e5e7eb;}.up-alt-detail{font-size:12px;}.up-alt-label{color:#6b7280;margin-right:4px;}.up-alt-detail a{color:#7AC143;text-decoration:none;}.up-alt-detail a:hover{text-decoration:underline;}</style>

<div class="up-container">
  <div class="up-header">
    <div class="up-logo"><img src="https://cdn.prod.website-files.com/659dd5a41f44c8d830f6cd7f/65a6e32124ad5ffc69552987_Utility%20Profit%20logo%20green%20full%20horizontal.svg" alt="Utility Profit"></div>
    <h2 class="up-title">Utility Provider Lookup</h2>
    <p class="up-subtitle">Enter an address to find utility providers</p>
  </div>
  <form class="up-form" id="utilityForm">
    <input type="text" class="up-input" id="addressInput" placeholder="123 Main St, Dallas, TX 75201" required />
    <div class="up-utility-toggles">
      <label class="up-toggle active" data-utility="electric"><input type="checkbox" checked /><span class="up-toggle-icon">‚ö°</span><span class="up-toggle-label">Electric</span><span class="up-toggle-check">‚úì</span></label>
      <label class="up-toggle active" data-utility="gas"><input type="checkbox" checked /><span class="up-toggle-icon">üî•</span><span class="up-toggle-label">Gas</span><span class="up-toggle-check">‚úì</span></label>
      <label class="up-toggle active" data-utility="water"><input type="checkbox" checked /><span class="up-toggle-icon">üíß</span><span class="up-toggle-label">Water</span><span class="up-toggle-check">‚úì</span></label>
      <label class="up-toggle active" data-utility="internet"><input type="checkbox" checked /><span class="up-toggle-icon">üåê</span><span class="up-toggle-label">Internet</span><span class="up-toggle-check">‚úì</span></label>
    </div>
    <button type="submit" class="up-btn" id="searchBtn">Search</button>
  </form>
  <div class="up-csv-toggle" id="csvToggle">
    <span class="up-csv-toggle-icon">üìÑ</span>
    <span class="up-csv-toggle-text">Bulk Lookup from CSV</span>
    <span class="up-csv-toggle-caret">‚ñº</span>
  </div>
  <div class="up-csv-section up-csv-hidden" id="csvDropZone">
    <div class="up-csv-subtitle">Upload a CSV file with addresses (max 100)</div>
    <input type="file" class="up-csv-input" id="csvInput" accept=".csv" />
    <button class="up-csv-btn" id="csvSelectBtn"><span>üìÅ</span> Select CSV File</button>
    <div class="up-csv-info">CSV must have an "address" column. Optional: city, state, zip columns.</div>
    <div class="up-csv-progress" id="csvProgress">
      <div class="up-progress-bar"><div class="up-progress-fill" id="csvProgressFill"></div></div>
      <div class="up-progress-text" id="csvProgressText">Processing 0 of 0...</div>
    </div>
    <div class="up-csv-results" id="csvResults">
      <div class="up-csv-stats">
        <div class="up-csv-stat success"><div class="up-csv-stat-value" id="csvSuccessCount">0</div><div class="up-csv-stat-label">Successful</div></div>
        <div class="up-csv-stat error"><div class="up-csv-stat-value" id="csvErrorCount">0</div><div class="up-csv-stat-label">Errors</div></div>
      </div>
      <button class="up-csv-download" id="csvDownloadBtn"><span>‚¨áÔ∏è</span> Download Results CSV</button>
    </div>
  </div>
  <div id="utilityResults"></div>
  <div class="up-footer">Powered by <a href="https://utilityprofit.com" target="_blank">Utility Profit</a></div>
</div>
<script src="https://web-production-9acc6.up.railway.app/static/widget.js"></script>
<script>
document.getElementById('csvToggle').addEventListener('click', function() {
  this.classList.toggle('open');
  document.getElementById('csvDropZone').classList.toggle('open');
});
</script>